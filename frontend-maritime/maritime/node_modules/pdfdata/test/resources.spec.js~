"use strict";

var base = require("./base.js");
var utils = require("../lib/utils");

var Promise = require("bluebird");
var assert = require('chai').assert;
var path = require("path");
var fs = require("fs");


describe("resources", function () {
    var imageResult = {op: 'images',
		       data: 
		       [{type: 'page',
			 images: 
			 [{type: 'img',
			   bounds: [18.909943, 733.7, 259.80994, 819.2],
			   resource: 'rsrc_fa2b6308dbfc27e24c22cc10d2282879d79395cb'}],
			 pagenum: 0,
			 dimensions: [595,842]}],
		       resources: 
		       {rsrc_fa2b6308dbfc27e24c22cc10d2282879d79395cb: 
			{format: 'png',
			 dimensions: [1392, 493],
			 url: '/v1/resources/rsrc_fa2b6308dbfc27e24c22cc10d2282879d79395cb',
			 mimetype: 'image/png'}}};

    it("retrieval", function (done) {
	base.pdfdata.procs.create()
	    .operation({op:"images"})
	    .withFiles([])
	    .start()
	    .then(function (result) {
		utils.log(result);
	    }).then(function (result) {
		done();
	    }).catch(function (error) {
		console.log(error);
		throw error;
	    });
    });
});
